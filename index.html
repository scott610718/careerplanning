
<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è‡ºä¸­å¸‚ 114 èª²ç¨‹åœ°åœ–ï½œè·æ¥­â†’å­¸æ ¡ç§‘ç³»æŸ¥è©¢ï¼ˆç´”å‰ç«¯ï¼‰</title>
<style>
  :root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#94a3b8;--brand:#22d3ee;--ok:#22c55e;--bad:#ef4444;--unk:#f59e0b;}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#0b1220,#0f172a 20%,#0b1220);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}
  .wrap{max-width:1100px;margin:24px auto;padding:16px;}
  h1{font-size:28px;margin:0 0 10px;letter-spacing:.5px}
  .sub{color:var(--muted);margin-bottom:20px}
  .bar{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:16px}
  input[type="text"], select{background:#0b1220;border:1px solid #1f2937;border-radius:12px;color:var(--text);padding:12px 14px;min-width:280px;outline:none}
  button{background:linear-gradient(135deg,#06b6d4,#22d3ee);color:#002336;border:none;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
  button.ghost{background:#0b1220;color:var(--text);border:1px solid #1f2937}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:14px;margin-top:14px}
  .card{background:rgba(17,24,39,.75);border:1px solid #1f2937;border-radius:16px;padding:14px;backdrop-filter: blur(6px);}
  .title{display:flex;gap:8px;align-items:center;margin:2px 0 6px}
  .pill{padding:3px 8px;border-radius:999px;border:1px solid #1f2937;background:#0b1220;color:var(--muted);font-size:12px}
  .links{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
  .lnk{padding:8px 10px;border-radius:10px;background:#0b1220;border:1px solid #1f2937;color:#93c5fd;text-decoration:none}
  .status{font-size:12px}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .hint{color:var(--muted);font-size:13px;margin-top:8px}
  .divider{height:1px;background:#1f2937;margin:12px 0}
  .tag{display:inline-block;padding:4px 8px;border:1px solid #1f2937;background:#0b1220;border-radius:999px;color:#a7f3d0;font-size:12px;margin-right:6px}
  .icon{width:28px;height:28px;display:inline-block}
  .footer{color:#64748b;font-size:12px;margin-top:16px}
  .kbd{background:#0b1220;border:1px solid #334155;border-radius:6px;padding:2px 6px;color:#cbd5e1}
  .flex{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .section{margin-top:18px}
  .hidden{display:none}
  .file{display:inline-block;padding:8px 12px;border:1px dashed #334155;border-radius:12px;background:#0b1220;color:#93c5fd}
  .cnt{color:#a5b4fc;font-weight:700}
</style>
</head>
<body>
<div class="wrap">
  <h1>è‡ºä¸­å¸‚ 114 èª²ç¨‹åœ°åœ–ï½œè·æ¥­â†’å­¸æ ¡ç§‘ç³»æŸ¥è©¢</h1>
  <div class="sub">è³‡æ–™æºï¼šå„æ ¡å®˜ç¶² / Google Sites / æ•™è‚²éƒ¨èª²ç¨‹è¨ˆç•«å¹³è‡ºã€‚ç´”å‰ç«¯ã€å¯é›¢ç·šè¼‰å…¥ JSONï¼Œæ”¯æ´é€£çµå¥æª¢èˆ‡ CSV åŒ¯å‡ºã€‚</div>
  <div class="bar">
    <input id="jobInput" type="text" placeholder="è¼¸å…¥æœªä¾†æƒ³å¾äº‹çš„å·¥ä½œâ€¦ ä¾‹ï¼šAIå·¥ç¨‹å¸«ã€ä¸»å»šã€å®¤å…§è¨­è¨ˆå¸«" />
    <select id="jobSelect"></select>
    <button id="btnSearch">æŸ¥è©¢</button>
    <button id="btnReset" class="ghost">æ¸…ç©º</button>
  </div>
  <div class="flex">
    <label class="file">
      è¼‰å…¥å­¸æ ¡ JSON<input id="fileSchools" type="file" accept=".json" style="display:none">
    </label>
    <label class="file">
      è¼‰å…¥è·æ¥­ JSON<input id="fileCareers" type="file" accept=".json" style="display:none">
    </label>
    <button id="btnExport" class="ghost">åŒ¯å‡ºç›®å‰çµæœ CSV</button>
  </div>
  <div class="section">
    <div id="matchInfo" class="hint">ğŸ’¡ å¯ç›´æ¥è¼¸å…¥è·æ¥­åç¨±æˆ–ç”¨ä¸‹æ‹‰é¸å–®é¸å–ã€‚è‹¥è¼¸å…¥èˆ‡è³‡æ–™ä¸åŒï¼Œç³»çµ±æœƒç”¨æ¨¡ç³Šæ¯”å°æ‰¾æœ€æ¥è¿‘çš„è·æ¥­ã€‚</div>
  </div>
  <div class="divider"></div>
  <div id="results" class="grid"></div>
  <div id="empty" class="hint hidden">æ‰¾ä¸åˆ°ç¬¦åˆçš„å­¸æ ¡ã€‚å¯è©¦è‘—ï¼š1) æ›ä¸€å€‹ç›¸è¿‘è·ç¨±ã€2) æ”¹é¸ä¸åŒå­¸åˆ¶ï¼ˆæ™®é€š/æŠ€è¡“/ç¶œåˆï¼‰ã€3) æ–¼ä¸Šæ–¹è¼‰å…¥æ“´å……å¾Œçš„ JSONã€‚</div>
  <div class="footer">Â© 2025 Taichung 114 CourseMap Finder Â· ç´”å‰ç«¯å–®æª” Â· JSON æ“´å……ï¼š<span class="kbd">taichung114_schools.json</span> / <span class="kbd">careers_mapping.json</span></div>
</div>

<script>
// -------- Embedded DEFAULT datasets (å¯ç”±æª”æ¡ˆè¦†è“‹) --------
const EMBED_SCHOOLS = {"meta": {"city": "è‡ºä¸­å¸‚", "year": 114, "source": "æ ¡ç¶²/Google Sites/æ•™è‚²éƒ¨èª²ç¨‹å¹³è‡º"}, "schools": [{"school_name": "è‡ºä¸­å¸‚ç«‹è‡ºä¸­ç¬¬ä¸€é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è‡ºä¸­ä¸€ä¸­", "district": "åŒ—å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://tcfsh.tc.edu.tw/", "course_map_links": [{"title": "114å­¸å¹´åº¦å…¥å­¸ä¸‰å¹´èª²ç¨‹è¨ˆç•«æ›¸ï¼ˆæ ¡æ–¹ï¼‰", "url": "https://tcfsh.tc.edu.tw/p/406-1076-510818%2Cr4402.php?Lang=zh-tw", "year": 114, "source": "æ ¡ç¶²"}, {"title": "è‡ºä¸­ä¸€ä¸­ 108èª²ç¶±è³‡æºå¹³è‡ºï½œèª²ç¨‹åœ°åœ–", "url": "https://sites.google.com/tcfsh.tc.edu.tw/108guide/%E8%AA%B2%E7%A8%8B%E8%A6%8F%E7%95%AB/%E8%AA%B2%E7%A8%8B%E5%9C%B0%E5%9C%96", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹è‡ºä¸­ç¬¬äºŒé«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è‡ºä¸­äºŒä¸­", "district": "åŒ—å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://www.tcssh.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹è³‡è¨Šå¹³è‡ºï½œèª²ç¨‹åœ°åœ–ï¼ˆå«114å…¥å­¸ï¼‰", "url": "https://sites.google.com/cloud.tcssh.tc.edu.tw/course/%E8%AA%B2%E7%A8%8B%E8%A6%8F%E5%8A%83/%E8%AA%B2%E7%A8%8B%E5%9C%B0%E5%9C%96", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹è‡ºä¸­å¥³å­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è‡ºä¸­å¥³ä¸­", "district": "è¥¿å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://tcgs.tc.edu.tw/", "course_map_links": [{"title": "æ•™å­¸çµ„ï½œ114èª²ç¨‹è¨ˆç•«", "url": "https://itcgs.tcgs.tc.edu.tw/ischool/publish_page/10/?cid=3542", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹æ–‡è¯é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "æ–‡è¯é«˜ä¸­", "district": "è¥¿å±¯å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://whsh.tc.edu.tw/", "course_map_links": [{"title": "108èª²ç¶±å¤§å¹³å°ï½œ114å­¸å¹´åº¦èª²ç¨‹è¨ˆç•«", "url": "https://web.whsh.tc.edu.tw/ischool/publish_page/1001/?cid=37431", "year": 114, "source": "æ ¡ç¶²"}, {"title": "æ•™å­¸çµ„ï½œæ–‡è¯é«˜ä¸­èª²ç¨‹è¨ˆç•«ï¼ˆå«å­¸ç¿’åœ°åœ–ï¼‰", "url": "https://web.whsh.tc.edu.tw/ischool/publish_page/4/?cid=38406", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹è¥¿è‹‘é«˜ç´šä¸­å­¸", "short_name": "è¥¿è‹‘é«˜ä¸­", "district": "è¥¿å±¯å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://sysh.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹è«®è©¢å°ˆå€ï½œ114å…¥å­¸æ–°ç”Ÿèª²ç¨‹åœ°åœ–æš¨é¸èª²èªªæ˜", "url": "https://sites.google.com/sysh.tc.edu.tw/featured-courses/%E9%A6%96%E9%A0%81", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹æ¸…æ°´é«˜ç´šä¸­å­¸", "short_name": "æ¸…æ°´é«˜ä¸­", "district": "æ¸…æ°´å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://www.cshs.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹è«®è©¢ç¶²ç«™ï½œ113ã€114å­¸å¹´åº¦å­¸æ ¡èª²ç¨‹åœ°åœ–", "url": "https://sites.google.com/ms.cshs.tc.edu.tw/class/course/online/chap03", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹å¤§ç”²é«˜ç´šä¸­å­¸", "short_name": "å¤§ç”²é«˜ä¸­", "district": "å¤§ç”²å€", "type": "å¸‚ç«‹ ç¶œåˆå‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹", "ç¶œåˆå‹"], "departments": [], "website_url": "https://djsh.tc.edu.tw/", "course_map_links": [{"title": "114å­¸å¹´åº¦æ–°ç”Ÿå…¥å­¸èª²ç¨‹è¨ˆç•«æ›¸ï¼ˆæ™®/æŠ€/ç¶œï¼‰", "url": "https://djsh.tc.edu.tw/p/405-1073-449602%2Cc11633.php", "year": 114, "source": "æ ¡ç¶²"}, {"title": "114å­¸å¹´åº¦å¤šå…ƒé¸ä¿®èª²ç¨‹ä»‹ç´¹", "url": "https://sites.google.com/djsh.tc.edu.tw/1080712/%E5%A4%9A%E5%85%83%E9%81%B8%E4%BF%AE%E5%B0%88%E5%8D%80/114%E5%AD%B8%E5%B9%B4%E5%BA%A6%E5%A4%9A%E5%85%83%E9%81%B8%E4%BF%AE%E8%AA%B2%E7%A8%8B%E4%BB%8B%E7%B4%B9", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹ä¸­æ¸¯é«˜ç´šä¸­å­¸", "short_name": "ä¸­æ¸¯é«˜ä¸­", "district": "æ¢§æ£²å€", "type": "å¸‚ç«‹ ç¶œåˆå‹ï¼ˆå«åœ‹ä¸­éƒ¨ï¼‰", "track_types": ["æ™®é€šå‹", "ç¶œåˆå‹"], "departments": [], "website_url": "https://cgsh.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹è¨ˆç•«ï¼ˆå«114å­¸å¹´åº¦ï¼‰", "url": "https://cgsh.tc.edu.tw/p/412-1070-11268.php", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹åç¶œé«˜ç´šä¸­å­¸", "short_name": "åç¶œé«˜ä¸­", "district": "åé‡Œå€", "type": "å¸‚ç«‹ ç¶œåˆå‹", "track_types": ["æ™®é€šå‹", "ç¶œåˆå‹"], "departments": [], "website_url": "https://www.hcsh.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç«‹å¤§é‡Œé«˜ç´šä¸­å­¸", "short_name": "å¤§é‡Œé«˜ä¸­", "district": "å¤§é‡Œå€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://whs.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹ç¸½é«”è¨ˆç•«ï½œ114å­¸å¹´åº¦èª²ç¨‹è¨ˆç•«-æ ¸å®šç‰ˆ", "url": "https://www.whs.tc.edu.tw/portal/index.php/2022-12-13-23-34-38", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹æ–°ç¤¾é«˜ç´šä¸­å­¸", "short_name": "æ–°ç¤¾é«˜ä¸­", "district": "æ–°ç¤¾å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://www.sshs.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç«‹é•·å„„é«˜ç´šä¸­å­¸", "short_name": "é•·å„„é«˜ä¸­", "district": "å—å±¯å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç«‹é¾æ´¥é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "é¾æ´¥é«˜ä¸­", "district": "é¾äº•å€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://ljsh.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç«‹è‡ºä¸­å·¥æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è‡ºä¸­é«˜å·¥", "district": "æ±å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["æ©Ÿæ¢°ç§‘", "æ±½è»Šç§‘", "è£½åœ–ç§‘", "è³‡è¨Šç§‘", "é›»å­ç§‘", "é›»æ©Ÿç§‘", "åŒ–å·¥ç§‘", "åœ–æ–‡å‚³æ’­ç§‘", "å»ºç¯‰ç§‘", "å†·å‡ç©ºèª¿ç§‘"], "website_url": "https://tcivs.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¶±èˆ‡èª²ç¨‹åœ°åœ–ï¼ˆç¾¤ç§‘ï¼‰", "url": "https://tcivs.tc.edu.tw/p/404-1081-40850.php", "year": 114, "source": "æ ¡ç¶²"}, {"title": "æ•™å­¸çµ„ï½œèª²ç¨‹è¨ˆç•«æ›¸ï¼ˆå«114å­¸å¹´åº¦ï¼‰", "url": "https://w3.tcivs.tc.edu.tw/ischool/publish_page/31/?cid=3314", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹æ²™é¹¿å·¥æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "æ²™é¹¿é«˜å·¥", "district": "æ²™é¹¿å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["æ©Ÿæ¢°ç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "é›»å­ç§‘", "ç´¡ç¹”ç§‘", "æŸ“æ•´ç§‘", "åœ–æ–‡å‚³æ’­ç§‘"], "website_url": "https://slvs.tc.edu.tw/", "course_map_links": [{"title": "å­¸æ ¡èª²ç¨‹è¨ˆç•«ï¼ˆå«114ç¾¤ç§‘ç¸½é«”èª²ç¨‹è¨ˆç•«ï¼‰", "url": "https://slvs.tc.edu.tw/p/412-1082-11187.php?Lang=zh-tw", "year": 114, "source": "æ ¡ç¶²"}, {"title": "é›»å­ç§‘ï½œèª²ç¨‹åœ°åœ–ï¼ˆå«111ä»¥å¾Œï¼‰", "url": "https://slvs.tc.edu.tw/p/412-1082-11111.php?Lang=zh-tw", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹æ±å‹¢å·¥æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "æ±å‹¢é«˜å·¥", "district": "æ±å‹¢å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["æ©Ÿæ¢°ç§‘", "è£½åœ–ç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "é›»å­ç§‘"], "website_url": "https://tsvs.tc.edu.tw/", "course_map_links": [{"title": "114å­¸å¹´åº¦å¯¦ç”¨æŠ€èƒ½å­¸ç¨‹èª²ç¨‹è¨ˆç•«ï¼ˆå…¬å‘Šç‰ˆï¼‰", "url": "https://tsvs.tc.edu.tw/p/406-1083-453731%2Cr1657.php", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹ç¥å²¡å·¥æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "ç¥å²¡é«˜å·¥", "district": "ç¥å²¡å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["æ©Ÿæ¢°ç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "é›»å­ç§‘", "é›»æ©Ÿç§‘", "å»ºç¯‰ç§‘"], "website_url": "https://sgihs.tc.edu.tw/", "course_map_links": [{"title": "èª²ç¨‹è¨ˆç•«ï¼ˆå«114å­¸å¹´åº¦å…¥å­¸æŠ€è¡“å‹èª²ç¨‹è¨ˆç•«ï¼‰", "url": "https://sgihs.tc.edu.tw/p/424-1120-672.php", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹éœ§å³°è¾²æ¥­å·¥æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "éœ§å³°è¾²å·¥", "district": "éœ§å³°å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["ç”Ÿè¾²ç¾¤å„ç§‘", "é›»æ©Ÿç§‘", "é›»å­ç§‘", "æ©Ÿæ¢°ç§‘", "åœ–æ–‡å‚³æ’­ç§‘", "é£Ÿå“åŠ å·¥ç§‘", "åœ’è—ç§‘", "ç•œç”¢ä¿å¥ç§‘", "ç”Ÿç‰©ç”¢æ¥­æ©Ÿé›»ç§‘"], "website_url": "https://wufai.tc.edu.tw/", "course_map_links": [{"title": "é›»æ©Ÿç§‘ï½œèª²ç¨‹åœ°åœ–(108~114) ç­‰å°ˆæ¥­èª²ç¨‹è³‡è¨Š", "url": "https://sites.google.com/wufai.tc.edu.tw/wufai-ee721/%E5%B0%88%E6%A5%AD%E8%AA%B2%E7%A8%8B%E8%A8%88%E5%8A%83%E6%9B%B8", "year": 114, "source": "Google Sites"}, {"title": "é›»å­ç§‘ï½œèª²ç¨‹å‡å­¸å°±æ¥­ï¼ˆå«èª²è¡¨/èª²ç¨‹åœ°åœ–ï¼‰", "url": "https://sites.google.com/wufai.tc.edu.tw/web-electronic-features/%E8%AA%B2%E7%A8%8B%E5%8D%87%E5%AD%B8%E5%B0%B1%E6%A5%AD", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹è‡ºä¸­å®¶äº‹å•†æ¥­é«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è‡ºä¸­å®¶å•†", "district": "æ±å€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["å•†æ¥­ç¶“ç‡Ÿç§‘", "æœƒè¨ˆäº‹å‹™ç§‘", "è³‡æ–™è™•ç†ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "å¹¼å…’ä¿è‚²ç§‘", "æµè¡Œæœé£¾ç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘"], "website_url": "https://www.tchcvs.tc.edu.tw/", "course_map_links": [{"title": "å…¬å‘Šï½œ114å­¸å¹´åº¦å…¥å­¸ é¸èª²è¼”å°æ‰‹å†Šèˆ‡èª²ç¨‹è¨ˆç•«æ›¸", "url": "https://tchcvs.tc.edu.tw/p/406-1087-497281%2Cr11.php", "year": 114, "source": "æ ¡ç¶²"}, {"title": "æ•™å‹™è™•Googleç«™ï½œèª²ç¨‹è¨ˆç•«/é¸èª²è³‡è¨Š", "url": "https://sites.google.com/tchcvs.tw/unit-1c/%E6%95%99%E5%AD%B8%E7%B5%84/%E8%AA%B2%E7%A8%8B%E8%A8%88%E7%95%AB", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç«‹è±åŸé«˜ç´šä¸­ç­‰å­¸æ ¡", "short_name": "è±åŸé«˜ä¸­", "district": "è±åŸå€", "type": "å¸‚ç«‹ æ™®é€šå‹", "track_types": ["æ™®é€šå‹"], "departments": [], "website_url": "https://fysh.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç«‹è±åŸé«˜ç´šå•†æ¥­è·æ¥­å­¸æ ¡", "short_name": "è±åŸé«˜å•†", "district": "è±åŸå€", "type": "å¸‚ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["å•†æ¥­ç¶“ç‡Ÿç§‘", "åœ‹éš›è²¿æ˜“ç§‘", "æœƒè¨ˆäº‹å‹™ç§‘", "è³‡æ–™è™•ç†ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "é›»å­å•†å‹™ç§‘"], "website_url": "https://fyvs.tc.edu.tw/", "course_map_links": [{"title": "è±å•†å¤šå…ƒé¸ä¿®ï¼†å¾®èª²ç¨‹å¹³å°ï¼ˆå«114å¾®èª²ç¨‹ï¼‰", "url": "https://sites.google.com/fyvs.tc.edu.tw/109fyvscurriculum/", "year": 114, "source": "Google Sites"}, {"title": "èª²ç¨‹è¨ˆç•«æ›¸ï¼ˆæ–°èª²ç¶±å°ˆå€ï¼‰", "url": "https://fyvs.tc.edu.tw/p/412-1085-5010.php", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹è¡›é“é«˜ç´šä¸­å­¸", "short_name": "è¡›é“é«˜ä¸­", "district": "åŒ—å±¯å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "é¤é£²ç®¡ç†ç§‘", "è§€å…‰äº‹æ¥­ç§‘", "è³‡è¨Šç§‘", "è³‡æ–™è™•ç†ç§‘", "åœ‹éš›è²¿æ˜“ç§‘", "å•†æ¥­ç¶“ç‡Ÿç§‘", "æ‡‰ç”¨è‹±èªç§‘", "æ‡‰ç”¨æ—¥èªç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘", "å¹¼å…’ä¿è‚²ç§‘", "ç¾å®¹ç§‘"], "website_url": "https://www.vtsh.tc.edu.tw/", "course_map_links": [{"title": "è¡›é“é«˜ä¸­114èª²ç¨‹è¨ˆç•«ï¼ˆå«èª²ç¨‹åœ°åœ–ï¼‰PDF", "url": "https://www.vtsh.tc.edu.tw/wp-content/uploads/doc/Vtsh210/%E7%A7%81%E7%AB%8B%E8%A1%9B%E9%81%93%E9%AB%98%E4%B8%AD114%E8%AA%B2%E7%A8%8B%E8%A8%88%E7%95%AB.pdf", "year": 114, "source": "æ ¡ç¶²PDF"}]}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹æ–°æ°‘é«˜ç´šä¸­å­¸", "short_name": "æ–°æ°‘é«˜ä¸­", "district": "åŒ—å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "å•†æ¥­ç¶“ç‡Ÿç§‘", "åœ‹éš›è²¿æ˜“ç§‘", "è³‡æ–™è™•ç†ç§‘", "é›»å­å•†å‹™ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "æ‡‰ç”¨æ—¥èªç§‘", "è³‡è¨Šç§‘", "é›»æ©Ÿç§‘", "é›»å­ç§‘", "ç¾å·¥ç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "å®¤å…§è¨­è¨ˆç§‘"], "website_url": "https://www.shinmin.tc.edu.tw/", "course_map_links": [{"title": "å­¸æ ¡èª²ç¨‹è¨ˆç•«æ›¸å°ˆå€ï¼ˆå«114ï¼‰", "url": "https://www.shinmin.tc.edu.tw/ischool/publish_page/128/?cid=16106", "year": 114, "source": "æ ¡ç¶²"}]}, {"school_name": "æ˜é“ä¸­å­¸", "short_name": "æ˜é“ä¸­å­¸", "district": "çƒæ—¥å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "è³‡è¨Šç§‘", "è³‡æ–™è™•ç†ç§‘", "å•†æ¥­ç¶“ç‡Ÿç§‘", "åœ‹éš›è²¿æ˜“ç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘"], "website_url": "https://www.mingdao.edu.tw/", "course_map_links": [{"title": "é«˜ä¸­éƒ¨èª²ç¨‹åœ°åœ–ï¼ˆæ™®é€šç§‘ï¼‰", "url": "https://www2.mingdao.edu.tw/senior/study/study02.html", "year": 114, "source": "æ ¡ç¶²"}, {"title": "æŠ€é«˜éƒ¨ç¸½é«”èª²ç¨‹ï¼ˆå«114ï¼‰", "url": "https://sites.google.com/ms.mingdao.edu.tw/mdvhtg/%E6%95%99%E5%AD%B8%E7%B5%84/%E6%8A%80%E9%AB%98%E9%83%A8%E7%B8%BD%E9%AB%94%E8%AA%B2%E7%A8%8B", "year": 114, "source": "Google Sites"}]}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹åƒ‘æ³°é«˜ç´šä¸­å­¸", "short_name": "åƒ‘æ³°é«˜ä¸­", "district": "åŒ—å±¯å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹", "ç¶œåˆå‹"], "departments": ["æ™®é€šç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "é›»å­å•†å‹™ç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘", "æ‡‰ç”¨æ—¥èªç§‘", "å¹¼å…’ä¿è‚²ç§‘", "ç¾å®¹ç§‘", "ç…§é¡§æœå‹™ç§‘", "æ™‚å°šé€ å‹ç§‘", "é£›æ©Ÿä¿®è­·ç§‘", "èˆªç©ºé›»å­ç§‘"], "website_url": "https://www.ciaotai.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹å¼˜æ–‡é«˜ç´šä¸­å­¸", "short_name": "å¼˜æ–‡é«˜ä¸­", "district": "æ½­å­å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "è³‡è¨Šç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "ç¾å·¥ç§‘", "å»£å‘Šè¨­è¨ˆç§‘"], "website_url": "https://www.hwhs.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹è¯ç››é “é«˜ç´šä¸­å­¸", "short_name": "è¯ç››é “é«˜ä¸­", "district": "è¥¿å±¯å€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "éŸ³æ¨‚ç§‘", "èˆè¹ˆç§‘", "é›»å½±é›»è¦–ç§‘", "æ±½è»Šç§‘", "é›»å­ç§‘", "è³‡æ–™è™•ç†ç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "é¤é£²ç®¡ç†ç§‘", "ç¾å®¹ç§‘"], "website_url": "https://www.wsh.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹å¤§æ˜é«˜ç´šä¸­å­¸ï¼ˆå¤§é‡Œæœ¬éƒ¨ï¼‰", "short_name": "å¤§æ˜é«˜ä¸­", "district": "å¤§é‡Œå€", "type": "ç§ç«‹ æ™®é€šå‹/æŠ€è¡“å‹", "track_types": ["æ™®é€šå‹", "æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "æ©Ÿæ¢°ç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "é›»å­ç§‘", "è³‡æ–™è™•ç†ç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘", "æ‡‰ç”¨è‹±èªç§‘", "æ‡‰ç”¨æ—¥èªç§‘", "å¹¼å…’ä¿è‚²ç§‘", "ç¾å®¹ç§‘", "æµè¡Œæœé£¾ç§‘"], "website_url": "https://www.taiminghs.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹é’å¹´é«˜ç´šä¸­å­¸", "short_name": "é’å¹´é«˜ä¸­", "district": "åŒ—å€", "type": "ç§ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["æ™®é€šç§‘", "æ±½è»Šç§‘", "è³‡è¨Šç§‘", "è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "é›»å­å•†å‹™ç§‘", "ç¾å·¥ç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "å¤šåª’é«”å‹•ç•«ç§‘"], "website_url": "https://www.tcsh.tc.edu.tw/", "course_map_links": []}, {"school_name": "è‡ºä¸­å¸‚ç§ç«‹è‡´ç”¨é«˜ç´šä¸­å­¸", "short_name": "è‡´ç”¨é«˜ä¸­", "district": "è¥¿å±¯å€", "type": "ç§ç«‹ æŠ€è¡“å‹", "track_types": ["æŠ€è¡“å‹"], "departments": ["è³‡è¨Šç§‘", "è³‡æ–™è™•ç†ç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘"], "website_url": "https://www.cycivs.tc.edu.tw/", "course_map_links": [{"title": "è³‡æ–™è™•ç†ç§‘ï½œ114èª²ç¨‹åœ°åœ–", "url": "https://www.cycivs.tc.edu.tw/ischool/publish_page/26/?cid=2553", "year": 114, "source": "æ ¡ç¶²"}]}]};
const EMBED_CAREERS = {"careers": [{"job_title": "AIå·¥ç¨‹å¸«", "synonyms": ["äººå·¥æ™ºæ…§å·¥ç¨‹å¸«", "æ©Ÿå™¨å­¸ç¿’å·¥ç¨‹å¸«", "è³‡æ–™ç§‘å­¸å®¶", "è³‡æ–™å·¥ç¨‹å¸«", "Machine Learning Engineer", "Data Scientist"], "cluster_primary": "è³‡è¨Šèˆ‡AI", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶/è³‡è¨Šæ–¹å‘)", "æŠ€è¡“å‹(è³‡è¨Šç¾¤)"], "recommended_departments": ["è³‡è¨Šç§‘", "è³‡æ–™è™•ç†ç§‘", "é›»å­ç§‘", "é›»æ©Ÿç§‘", "æ™®é€šç§‘"], "notes": "æ™®é€šç§‘å¯é…è³‡è¨Š/è‡ªç„¶é¸ä¿®ï¼›æŠ€è·é«”ç³»å¯èµ°è³‡è¨Šç¾¤æˆ–é›»è³‡ç¾¤ã€‚"}, {"job_title": "è»Ÿé«”å·¥ç¨‹å¸«", "synonyms": ["å¾Œç«¯å·¥ç¨‹å¸«", "å‰ç«¯å·¥ç¨‹å¸«", "å…¨ç«¯å·¥ç¨‹å¸«", "Appå·¥ç¨‹å¸«"], "cluster_primary": "è³‡è¨Šèˆ‡AI", "recommended_tracks": ["æ™®é€šå‹(è³‡è¨Šæ–¹å‘)", "æŠ€è¡“å‹(è³‡è¨Šç¾¤)"], "recommended_departments": ["è³‡è¨Šç§‘", "è³‡æ–™è™•ç†ç§‘", "é›»å­ç§‘", "æ™®é€šç§‘"]}, {"job_title": "é›»æ©Ÿå·¥ç¨‹å¸«", "synonyms": ["é›»åŠ›å·¥ç¨‹å¸«", "æ§åˆ¶å·¥ç¨‹å¸«", "åµŒå…¥å¼å·¥ç¨‹å¸«"], "cluster_primary": "å·¥ç¨‹èˆ‡è£½é€ ", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶æ–¹å‘)", "æŠ€è¡“å‹(é›»æ©Ÿé›»å­ç¾¤)"], "recommended_departments": ["é›»æ©Ÿç§‘", "é›»å­ç§‘", "æ§åˆ¶ç§‘", "è³‡è¨Šç§‘", "æ™®é€šç§‘"]}, {"job_title": "é›»å­å·¥ç¨‹å¸«", "synonyms": ["åŠå°é«”å·¥ç¨‹å¸«", "é€šè¨Šå·¥ç¨‹å¸«", "éŸŒé«”å·¥ç¨‹å¸«"], "cluster_primary": "å·¥ç¨‹èˆ‡è£½é€ ", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶æ–¹å‘)", "æŠ€è¡“å‹(é›»æ©Ÿé›»å­ç¾¤)"], "recommended_departments": ["é›»å­ç§‘", "é›»æ©Ÿç§‘", "è³‡è¨Šç§‘", "æ™®é€šç§‘"]}, {"job_title": "æ©Ÿæ¢°å·¥ç¨‹å¸«", "synonyms": ["è£½é€ å·¥ç¨‹å¸«", "è¨­å‚™å·¥ç¨‹å¸«", "æ©Ÿæ§‹å·¥ç¨‹å¸«"], "cluster_primary": "å·¥ç¨‹èˆ‡è£½é€ ", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶æ–¹å‘)", "æŠ€è¡“å‹(æ©Ÿæ¢°ç¾¤)"], "recommended_departments": ["æ©Ÿæ¢°ç§‘", "é›»æ©Ÿç§‘", "æ±½è»Šç§‘", "è£½åœ–ç§‘", "æ™®é€šç§‘"]}, {"job_title": "æ±½è»Šç¶­ä¿®æŠ€å¸«", "synonyms": ["è»Šè¼›å·¥ç¨‹å¸«", "æ±½ä¿®æŠ€å¸«"], "cluster_primary": "å·¥ç¨‹èˆ‡è£½é€ ", "recommended_tracks": ["æŠ€è¡“å‹(å‹•åŠ›æ©Ÿæ¢°ç¾¤)"], "recommended_departments": ["æ±½è»Šç§‘", "æ©Ÿæ¢°ç§‘"]}, {"job_title": "å»ºç¯‰å¸«", "synonyms": ["åœŸæœ¨å·¥ç¨‹å¸«", "å®¤å…§è¨­è¨ˆå¸«"], "cluster_primary": "ç‡Ÿå»ºè¨­è¨ˆ", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶/è¨­è¨ˆæ–¹å‘)", "æŠ€è¡“å‹(ç‡Ÿå»ºç¾¤/è¨­è¨ˆç¾¤)"], "recommended_departments": ["å»ºç¯‰ç§‘", "åœŸæœ¨ç§‘", "å®¤å…§è¨­è¨ˆç§‘", "åœ–æ–‡å‚³æ’­ç§‘", "æ™®é€šç§‘"]}, {"job_title": "åŒ–å·¥å·¥ç¨‹å¸«", "synonyms": ["è£½ç¨‹å·¥ç¨‹å¸«", "ææ–™å·¥ç¨‹å¸«"], "cluster_primary": "å·¥ç¨‹èˆ‡è£½é€ ", "recommended_tracks": ["æ™®é€šå‹(è‡ªç„¶æ–¹å‘)", "æŠ€è¡“å‹(åŒ–å·¥ç¾¤)"], "recommended_departments": ["åŒ–å·¥ç§‘", "æ™®é€šç§‘"]}, {"job_title": "å¹³é¢è¨­è¨ˆå¸«", "synonyms": ["å¤šåª’é«”è¨­è¨ˆå¸«", "è¦–è¦ºè¨­è¨ˆå¸«", "UI/UXè¨­è¨ˆå¸«"], "cluster_primary": "è¨­è¨ˆèˆ‡åª’é«”", "recommended_tracks": ["æŠ€è¡“å‹(è¨­è¨ˆç¾¤)", "æ™®é€šå‹(è—æ–‡/è¨­è¨ˆæ–¹å‘)"], "recommended_departments": ["ç¾å·¥ç§‘", "å»£å‘Šè¨­è¨ˆç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘", "åœ–æ–‡å‚³æ’­ç§‘", "æ™®é€šç§‘"]}, {"job_title": "è§€å…‰å°éŠ", "synonyms": ["æ—…éŠä¼åŠƒ", "æ—…é¤¨ç®¡ç†"], "cluster_primary": "è§€å…‰é¤æ—…", "recommended_tracks": ["æŠ€è¡“å‹(è§€å…‰ç¾¤)", "æ™®é€šå‹(ç¤¾æœƒ/å•†ç®¡æ–¹å‘)"], "recommended_departments": ["è§€å…‰äº‹æ¥­ç§‘", "é¤é£²ç®¡ç†ç§‘", "æ‡‰ç”¨è‹±èªç§‘", "æ™®é€šç§‘"]}, {"job_title": "ä¸»å»š", "synonyms": ["é¤é£²ä¸»å»š", "çƒ˜ç„™å¸«å‚…", "é¤é£²ç¶“ç†"], "cluster_primary": "è§€å…‰é¤æ—…", "recommended_tracks": ["æŠ€è¡“å‹(é¤æ—…ç¾¤)"], "recommended_departments": ["é¤é£²ç®¡ç†ç§‘", "è§€å…‰äº‹æ¥­ç§‘"]}, {"job_title": "å¹¼å…’åœ’æ•™å¸«", "synonyms": ["å¹¼ä¿è€å¸«", "æ‰˜è‚²è€å¸«"], "cluster_primary": "æ•™è‚²èˆ‡ç¤¾æœ", "recommended_tracks": ["æŠ€è¡“å‹(å®¶æ”¿ç¾¤)", "æ™®é€šå‹(ç¤¾æœƒ/æ•™è‚²æ–¹å‘)"], "recommended_departments": ["å¹¼å…’ä¿è‚²ç§‘", "æ™®é€šç§‘"]}, {"job_title": "æœƒè¨ˆå¸«", "synonyms": ["è²¡å‹™äººå“¡", "ç¨…å‹™æœƒè¨ˆ"], "cluster_primary": "å•†ç®¡èˆ‡é‡‘è", "recommended_tracks": ["æŠ€è¡“å‹(å•†æ¥­ç®¡ç†ç¾¤)", "æ™®é€šå‹(ç¤¾æœƒ/å•†ç®¡æ–¹å‘)"], "recommended_departments": ["æœƒè¨ˆäº‹å‹™ç§‘", "å•†æ¥­ç¶“ç‡Ÿç§‘", "è³‡æ–™è™•ç†ç§‘", "åœ‹éš›è²¿æ˜“ç§‘", "æ™®é€šç§‘"]}, {"job_title": "å¤–èªå°éŠ", "synonyms": ["è‹±æ–‡å°éŠ", "æ—¥æ–‡å°éŠ", "å£ç­†è­¯"], "cluster_primary": "èªæ–‡èˆ‡åœ‹éš›", "recommended_tracks": ["æŠ€è¡“å‹(å¤–èªç¾¤)", "æ™®é€šå‹(èªæ–‡æ–¹å‘)"], "recommended_departments": ["æ‡‰ç”¨è‹±èªç§‘", "æ‡‰ç”¨æ—¥èªç§‘", "è§€å…‰äº‹æ¥­ç§‘", "æ™®é€šç§‘"]}, {"job_title": "ç¾å®¹å¸«", "synonyms": ["ç¾é«®è¨­è¨ˆå¸«", "å½©å¦å¸«", "æ™‚å°šé€ å‹"], "cluster_primary": "æ™‚å°šèˆ‡ç¾å­¸", "recommended_tracks": ["æŠ€è¡“å‹(å®¶æ”¿ç¾¤/è¨­è¨ˆç¾¤)"], "recommended_departments": ["ç¾å®¹ç§‘", "æµè¡Œæœé£¾ç§‘", "å¤šåª’é«”è¨­è¨ˆç§‘"]}, {"job_title": "è¡¨æ¼”è—è¡“å·¥ä½œè€…", "synonyms": ["èˆè€…", "æ¼”å“¡", "éŸ³æ¨‚è¡¨æ¼”è€…"], "cluster_primary": "è¡¨æ¼”è—è¡“", "recommended_tracks": ["æ™®é€šå‹(è—æ‰)", "æŠ€è¡“å‹(è¡¨æ¼”è—è¡“é¡ç§‘)"], "recommended_departments": ["è¡¨æ¼”è—è¡“ç§‘", "éŸ³æ¨‚ç§‘", "èˆè¹ˆç§‘", "æ™®é€šç§‘"]}, {"job_title": "èˆªç©ºç¶­ä¿®æŠ€å¸«", "synonyms": ["é£›æ©Ÿä¿®è­·", "èˆªé›»å·¥ç¨‹å¸«"], "cluster_primary": "èˆªå¤ªèˆ‡ç¶­ä¿®", "recommended_tracks": ["æŠ€è¡“å‹(å‹•åŠ›æ©Ÿæ¢°/é›»æ©Ÿé›»å­)"], "recommended_departments": ["é£›æ©Ÿä¿®è­·ç§‘", "èˆªç©ºé›»å­ç§‘", "æ©Ÿæ¢°ç§‘", "é›»å­ç§‘"]}, {"job_title": "å®¤å…§è¨­è¨ˆå¸«", "synonyms": ["å®¤å…§è¦åŠƒ", "ç©ºé–“è¨­è¨ˆ"], "cluster_primary": "ç‡Ÿå»ºè¨­è¨ˆ", "recommended_tracks": ["æŠ€è¡“å‹(è¨­è¨ˆç¾¤)", "æ™®é€šå‹(è¨­è¨ˆå‘)"], "recommended_departments": ["å®¤å…§è¨­è¨ˆç§‘", "å»ºç¯‰ç§‘", "åœ–æ–‡å‚³æ’­ç§‘", "ç¾å·¥ç§‘", "æ™®é€šç§‘"]}]};

// -------- Small Jaroâ€“Winkler for fuzzy matching (self-contained) --------
function jaroWinkler(s1, s2){
  if(!s1 || !s2) return 0;
  s1 = s1.toLowerCase(); s2 = s2.toLowerCase();
  const matchDistance = Math.floor(Math.max(s1.length, s2.length)/2) - 1;
  const s1Matches = new Array(s1.length).fill(false);
  const s2Matches = new Array(s2.length).fill(false);
  let matches = 0, transpositions = 0;
  for(let i=0;i<s1.length;i++){
    const start = Math.max(0, i - matchDistance);
    const end = Math.min(i + matchDistance + 1, s2.length);
    for(let j=start; j<end; j++){
      if(s2Matches[j]) continue;
      if(s1[i] !== s2[j]) continue;
      s1Matches[i] = true; s2Matches[j] = true; matches++; break;
    }
  }
  if(matches === 0) return 0;
  let k = 0;
  for(let i=0;i<s1.length;i++){
    if(!s1Matches[i]) continue;
    while(!s2Matches[k]) k++;
    if(s1[i] !== s2[k]) transpositions++;
    k++;
  }
  transpositions /= 2;
  const jaro = (matches/s1.length + matches/s2.length + (matches - transpositions)/matches) / 3;
  // common prefix up to 4 chars
  let prefix = 0;
  for(let i=0; i<Math.min(4, s1.length, s2.length); i++){
    if(s1[i] === s2[i]) prefix++; else break;
  }
  return jaro + prefix * 0.1 * (1 - jaro);
}

function bestCareerMatch(input, careers){
  const cand = [];
  const q = input.trim();
  for(const c of careers){
    const all = [c.job_title, ...(c.synonyms||[])];
    let score = 0;
    for(const a of all){
      const s = jaroWinkler(q, a);
      if(s > score) score = s;
    }
    cand.push({c, score});
  }
  cand.sort((a,b)=>b.score-a.score);
  return cand[0];
}

// -------- Data state --------
let SCHOOLS = EMBED_SCHOOLS;
let CAREERS = EMBED_CAREERS;

// -------- UI elements --------
const jobInput = document.getElementById('jobInput');
const jobSelect = document.getElementById('jobSelect');
const btnSearch = document.getElementById('btnSearch');
const btnReset = document.getElementById('btnReset');
const results = document.getElementById('results');
const empty = document.getElementById('empty');
const matchInfo = document.getElementById('matchInfo');
const btnExport = document.getElementById('btnExport');
const fileSchools = document.getElementById('fileSchools');
const fileCareers = document.getElementById('fileCareers');

function populateSelect(){
  jobSelect.innerHTML = '<option value="">ï¼ˆé¸æ“‡è·æ¥­ï¼‰</option>' + CAREERS.careers.map(c=>`<option>${c.job_title}</option>`).join('');
}
populateSelect();

jobSelect.addEventListener('change', e=>{
  if(e.target.value) {
    jobInput.value = e.target.value;
  }
});

btnReset.addEventListener('click', ()=>{
  jobInput.value = '';
  jobSelect.value = '';
  results.innerHTML = '';
  empty.classList.add('hidden');
  matchInfo.textContent = 'ğŸ’¡ å¯ç›´æ¥è¼¸å…¥è·æ¥­åç¨±æˆ–ç”¨ä¸‹æ‹‰é¸å–®é¸å–ã€‚è‹¥è¼¸å…¥èˆ‡è³‡æ–™ä¸åŒï¼Œç³»çµ±æœƒç”¨æ¨¡ç³Šæ¯”å°æ‰¾æœ€æ¥è¿‘çš„è·æ¥­ã€‚';
});

btnSearch.addEventListener('click', ()=>search());

jobInput.addEventListener('keydown', e=>{
  if(e.key==='Enter') search();
});

function search(){
  const q = jobInput.value.trim();
  if(!q){
    matchInfo.textContent = 'è«‹å…ˆè¼¸å…¥æˆ–é¸æ“‡è·æ¥­ã€‚';
    return;
  }
  const {c, score} = bestCareerMatch(q, CAREERS.careers);
  const exact = (c.job_title === q);
  matchInfo.innerHTML = exact
    ? `ğŸ” ä»¥ <span class="cnt">${c.job_title}</span> æŸ¥è©¢ã€‚`
    : `ğŸ” ä»¥ <span class="cnt">${q}</span> æ¨¡ç³Šæ¯”å°ï¼Œæœ€æ¥è¿‘çš„æ˜¯ <span class="cnt">${c.job_title}</span>ï¼ˆç›¸ä¼¼åº¦ ${(score*100).toFixed(0)}%ï¼‰ã€‚`;
  render(c);
}

function render(career){
  const recTracks = new Set((career.recommended_tracks||[]).map(x=>x.replace(/\(.*?\)/g,'').trim()));
  const recDeps = new Set(career.recommended_departments||[]);
  const cards = [];
  for(const s of SCHOOLS.schools){
    // track filter
    const schoolTracks = new Set((s.track_types||[]));
    const trackOk = [...recTracks].some(t => schoolTracks.has(t) || (t.includes('æ™®é€š') && schoolTracks.has('æ™®é€šå‹')) || (t.includes('æŠ€è¡“') && schoolTracks.has('æŠ€è¡“å‹')));
    if(!trackOk) continue;
    // department match (if school is æŠ€è¡“å‹)
    let depHit = [];
    if((s.track_types||[]).includes('æŠ€è¡“å‹') && s.departments && s.departments.length){
      depHit = s.departments.filter(d => recDeps.has(d));
      if(depHit.length===0 && recTracks.has('æŠ€è¡“å‹')) continue;
    }
    cards.push(renderCard(s, career, depHit));
  }
  results.innerHTML = cards.join('');
  empty.classList.toggle('hidden', cards.length>0);
}

function iconFor(cluster){
  const map = {
    "è³‡è¨Šèˆ‡AI": "M3 8h10l-5-5-5 5zm0 4h10l-5 5-5-5z",
    "å·¥ç¨‹èˆ‡è£½é€ ": "M3 12l4-4 4 4 6-6 2 2-8 8-4-4-4 4z",
    "è§€å…‰é¤æ—…": "M2 7h12v2H2zM3 9h10l-1 6H4zM5 15h6v2H5z",
    "æ•™è‚²èˆ‡ç¤¾æœ": "M2 10l6-6 6 6v6H2z",
    "å•†ç®¡èˆ‡é‡‘è": "M2 6h12v2H2zM2 10h12v2H2zM2 14h12v2H2z",
    "è¨­è¨ˆèˆ‡åª’é«”": "M2 4h12v8H2zM4 16h8v2H4z",
    "è¡¨æ¼”è—è¡“": "M2 14l6-4 6 4v2H2zM5 8a3 3 0 106 0 3 3 0 00-6 0z",
    "èˆªå¤ªèˆ‡ç¶­ä¿®": "M2 12l6-2 6 2-6 4zM8 6l2 4H6z",
    "ç‡Ÿå»ºè¨­è¨ˆ": "M2 12h12v6H2zM4 8h8v4H4z",
    "èªæ–‡èˆ‡åœ‹éš›": "M2 6h12v8H2zM4 16h8v2H4z"
  };
  const d = map[cluster] || map["è¨­è¨ˆèˆ‡åª’é«”"];
  return `<svg class="icon" viewBox="0 0 16 20" fill="none" stroke="currentColor"><path d="${d}" stroke-width="1.5" /></svg>`;
}

function renderCard(s, career, depHit){
  const tags = [];
  (s.track_types||[]).forEach(t=>tags.push(`<span class="tag">${t}</span>`));
  if(depHit && depHit.length) tags.push(...depHit.map(d=>`<span class="tag">${d}</span>`));
  const links = (s.course_map_links||[]).map((l,i)=>`
    <a class="lnk" target="_blank" rel="noopener" href="${l.url}">${l.title}</a>
    <button class="ghost" onclick="checkLink('${l.url}', this)">é€£çµæª¢æŸ¥</button>
  `).join('');
  const web = s.website_url ? `<a class="lnk" target="_blank" rel="noopener" href="${s.website_url}">å­¸æ ¡å®˜ç¶²</a>` : '';
  return `
  <div class="card">
    <div class="title">
      ${iconFor(career.cluster_primary)}
      <div>
        <div style="font-weight:800">${s.school_name}</div>
        <div class="status">${s.district} Â· ${s.type}</div>
      </div>
    </div>
    <div>${tags.join(' ')}</div>
    <div class="links">${web}${links}</div>
    <div class="hint">ä¾æ“šè·æ¥­ï¼š<b>${career.job_title}</b>ï¼ˆç¾¤ï¼š${career.cluster_primary}ï¼‰</div>
  </div>`;
}

async function checkLink(url, btn){
  const span = document.createElement('span');
  span.className = 'status';
  span.textContent = ' æª¢æŸ¥ä¸­â€¦';
  btn.after(span);
  try{
    // Try HEAD then GET (for servers not accepting HEAD)
    let ok = false;
    try {
      const r1 = await fetch(url, {method:'HEAD', mode:'no-cors'});
      ok = r1 && (r1.ok || r1.type==='opaque');
    } catch(e){}
    if(!ok){
      const r2 = await fetch(url, {method:'GET', mode:'no-cors'});
      ok = r2 && (r2.ok || r2.type==='opaque');
    }
    span.textContent = ok ? ' âœ… å¯ç”¨ï¼ˆå¯èƒ½å— CORS é™åˆ¶ï¼Œä»¥å¯¦éš›é–‹å•Ÿç‚ºæº–ï¼‰' : ' âš ï¸ å¯èƒ½ç„¡æ³•å­˜å–ï¼ˆè«‹ç›´æ¥é»æ“Šæ¸¬è©¦ï¼‰';
  }catch(err){
    span.textContent = ' â“ ç„¡æ³•åˆ¤å®šï¼ˆç€è¦½å™¨é™åˆ¶/CORSï¼‰';
  }
  setTimeout(()=>span.remove(), 5000);
}

btnExport.addEventListener('click', ()=>{
  const rows = [['school_name','district','type','website_url','course_map_title','course_map_url']];
  const cards = results.querySelectorAll('.card');
  if(cards.length===0){ alert('ç›®å‰æ²’æœ‰çµæœå¯åŒ¯å‡º'); return; }
  // Build from filtered SCHOOLS based on current render by re-running logic quickly
  const q = jobInput.value.trim();
  const {c} = bestCareerMatch(q, CAREERS.careers);
  const recTracks = new Set((c.recommended_tracks||[]).map(x=>x.replace(/\(.*?\)/g,'').trim()));
  const recDeps = new Set(c.recommended_departments||[]);
  for(const s of SCHOOLS.schools){
    const schoolTracks = new Set((s.track_types||[]));
    const trackOk = [...recTracks].some(t => schoolTracks.has(t) || (t.includes('æ™®é€š') && schoolTracks.has('æ™®é€šå‹')) || (t.includes('æŠ€è¡“') && schoolTracks.has('æŠ€è¡“å‹')));
    if(!trackOk) continue;
    if((s.track_types||[]).includes('æŠ€è¡“å‹') && s.departments && s.departments.length){
      const depHit = s.departments.filter(d => recDeps.has(d));
      if(depHit.length===0 && recTracks.has('æŠ€è¡“å‹')) continue;
    }
    if((s.course_map_links||[]).length){
      for(const l of s.course_map_links){
        rows.push([s.school_name, s.district, s.type, s.website_url||'', l.title, l.url]);
      }
    }else{
      rows.push([s.school_name, s.district, s.type, s.website_url||'', '', '']);
    }
  }
  const csv = rows.map(r=>r.map(x=>`"${(x||'').replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'taichung114_query_export.csv';
  a.click();
  URL.revokeObjectURL(a.href);
});

// Local file loaders
function loadJSONFromFile(file, cb){
  const reader = new FileReader();
  reader.onload = e => {
    try{
      const obj = JSON.parse(e.target.result);
      cb(obj);
    }catch(err){ alert('JSON è§£æå¤±æ•—ï¼š'+err.message); }
  };
  reader.readAsText(file, 'utf-8');
}

fileSchools.addEventListener('change', e=>{
  const f = e.target.files[0];
  if(!f) return;
  loadJSONFromFile(f, obj=>{
    if(!obj.schools) { alert('schools.json æ‡‰åŒ…å« "schools" é™£åˆ—'); return; }
    SCHOOLS = obj;
    alert('å·²è¼‰å…¥å­¸æ ¡è³‡æ–™ '+ (obj.schools.length||0) +' ç­†');
    populateSelect();
  });
});

fileCareers.addEventListener('change', e=>{
  const f = e.target.files[0];
  if(!f) return;
  loadJSONFromFile(f, obj=>{
    if(!obj.careers) { alert('careers.json æ‡‰åŒ…å« "careers" é™£åˆ—'); return; }
    CAREERS = obj;
    alert('å·²è¼‰å…¥è·æ¥­/å­¸ç¾¤å°ç…§ '+ (obj.careers.length||0) +' ç­†');
    populateSelect();
  });
});

// Preload select
populateSelect();
</script>
</body>
</html>
